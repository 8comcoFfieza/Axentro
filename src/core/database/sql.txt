select * from blocks where idx between 40108 and 43108 order by timestamp asc

select * from recipients limit 1

CREATE INDEX idx_blocks_name 
ON blocks (idx, timestamp);

CREATE INDEX idx_recipients_2 
ON recipients (block_id);

CREATE INDEX idx_senders 
ON recipients (block_id);

CREATE INDEX idx_recipients_3
ON recipients (transaction_id);


CREATE INDEX idx_transactions 
ON transactions (block_id);

select 

b.idx as block_id, 
b.nonce as nonce, 
b.prev_hash as prev_hash,
b.timestamp as block_timestamp,
b.difficulty as block_difficulty,
b.address as block_address,
b.kind as block_kind,
b.public_key as block_public_key,
b.signature as block_signature,
b.hash as block_hash,

t.id as transaction_id,
t.idx as transaction_idx,
t.block_id as transaction_block_id,
t.action as transaction_action,
t.message as transaction_message,
t.token as transaction_token,
t.prev_hash as transaction_prev_hash,
t.timestamp as transaction_timestamp,
t.scaled as transaction_scaled,
t.kind as transaction_kind,
t.version as transaction_version,

s.transaction_id as sender_transaction_id,
s.block_id as sender_block_id,
s.idx as sender_idx,
s.address as sender_address,
s.public_key as sender_public_key,
s.amount as sender_amount,
s.fee as sender_fee,
s.signature as sender_signature,

r.transaction_id as recipient_transaction_id,
r.block_id as recipient_block_id,
r.idx as recipient_idx,
r.address as recipient_address,
r.amount as recipient_amount

from blocks b 

left join transactions t on t.block_id = b.idx
left join senders s on s.block_id = b.idx
left join recipients r on r.block_id = b.idx
where b.idx between 40108 and 43108
order by b.timestamp asc